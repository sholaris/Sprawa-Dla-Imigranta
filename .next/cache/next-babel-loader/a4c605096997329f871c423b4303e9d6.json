{"ast":null,"code":"function validatePESEL(pesel) {\n  var reg = /^[0-9]{11}$/;\n  if (reg.test(pesel) == false) return false;else {\n    var digits = (\"\" + pesel).split(\"\");\n\n    if (parseInt(pesel.substring(4, 6)) > 31 || parseInt(pesel.substring(2, 4)) > 12) {\n      return false;\n    }\n\n    var checksum = (1 * parseInt(digits[0]) + 3 * parseInt(digits[1]) + 7 * parseInt(digits[2]) + 9 * parseInt(digits[3]) + 1 * parseInt(digits[4]) + 3 * parseInt(digits[5]) + 7 * parseInt(digits[6]) + 9 * parseInt(digits[7]) + 1 * parseInt(digits[8]) + 3 * parseInt(digits[9])) % 10;\n    if (checksum == 0) checksum = 10;\n    checksum = 10 - checksum;\n    return parseInt(digits[10]) == checksum;\n  }\n}\n\nfunction validateLength(length) {\n  var reg = /^[0-9]{3}$/;\n  if (!reg.test(length)) return false;else if (parseInt(length) > 251) return false;else return true;\n}\n\nfunction validateNumbers(data) {\n  var reg = /^[0-9-]*$/;\n  if (!reg.test(data)) return false;else return true;\n}\n\nexport default function validate(values) {\n  var errors = {};\n  var empty_field_error = \"Pole nie może być puste\";\n  var wrong_date_error = \"Podaj datę z przeszłości\";\n  var wrong_postalcode_error = \"Podaj kod pocztowy w formacie nn-nnn\";\n  var input_birthDate = new Date(values.birthDate);\n  var input_docIssueDate = new Date(values.docIssueDate);\n  var input_docExpiryDate = new Date(values.docExpiryDate);\n  var input_visaIssueDate = new Date(values.visaIssueDate);\n  var input_visaExpiryDate = new Date(values.visaExpiryDate);\n  var input_resCardIssueDate = new Date(values.resCardIssueDate);\n  var input_resCardExpiryDate = new Date(values.resCardExpiryDate);\n  var input_spouseBirthDate = new Date(values.spouseBirthDate);\n  var input_lastDateInPoland = new Date(values.lastDateInPoland);\n  var input_decisionIssueDate = new Date(values.decisionIssueDate);\n  var today = new Date();\n  var regexp = /^[0-9]{2}(?:-[0-9]{3})?$/;\n\n  for (var key in values) {\n    if (values.hasOwnProperty(key)) {\n      if (!values[key]) {\n        errors[key] = empty_field_error;\n      }\n    }\n  }\n\n  if (input_birthDate >= today) {\n    errors.birthDate = wrong_date_error;\n  }\n\n  if (input_docIssueDate >= today) {\n    errors.docIssueDate = wrong_date_error;\n  }\n\n  if (input_docExpiryDate >= today) {\n    errors.docExpiryDate = wrong_date_error;\n  }\n\n  if (!validateLength(values.length)) {\n    errors.length = \"Podaj poprawną wartość\";\n  }\n\n  if (!values.length) {\n    errors.length = empty_field_error;\n  }\n\n  if (values.pesel) {\n    if (!validatePESEL(values.pesel)) {\n      errors.pesel = \"Prodaj poprawny numer PESEL\";\n    }\n  }\n\n  if (!values.pesel) {\n    errors.pesel = \"\";\n  }\n\n  if (!regexp.test(values.resPostalCode)) {\n    errors.resPostalCode = wrong_postalcode_error;\n  }\n\n  if (!validateNumbers(values.resHomeNumber)) {\n    errors.resHomeNumber = \"Podaj poprawną wartość\";\n  }\n\n  if (!validateNumbers(values.resApartmentNumber)) {\n    errors.resApartmentNumber = \"Podaj poprawną wartość\";\n  }\n\n  if (!values.spouseBirthDate) {\n    errors.spouseBirthDate = \"\";\n  }\n\n  if (values.spouseBirthDate && input_spouseBirthDate >= today) {\n    errors.spouseBirthDate = wrong_date_error;\n  }\n\n  if (!validateNumbers(values.spouseHomeNumber)) {\n    errors.spouseHomeNumber = \"Podaj poprawną wartość\";\n  }\n\n  if (!values.spouseHomeNumber) {\n    errors.spouseHomeNumber = \"\";\n  }\n\n  if (!validateNumbers(values.spouseApartmentNumber)) {\n    errors.spouseApartmentNumber = \"Podaj poprawną wartość\";\n  }\n\n  if (!values.spouseApartmentNumber) {\n    errors.spouseApartmentNumber = \"\";\n  }\n\n  if (!regexp.test(values.spousePostalCode)) {\n    errors.spousePostalCode = wrong_postalcode_error;\n  }\n\n  if (!values.spousePostalCode) {\n    errors.spousePostalCode = \"\";\n  }\n\n  if (input_visaIssueDate >= today) {\n    errors.visaIssueDate = wrong_date_error;\n  }\n\n  if (!values.visaIssueDate) {\n    errors.visaIssueDate = \"\";\n  }\n\n  if (input_visaExpiryDate >= today) {\n    errors.visaExpiryDate = wrong_date_error;\n  }\n\n  if (!values.visaExpiryDate) {\n    errors.visaExpiryDate = \"\";\n  }\n\n  if (input_lastDateInPoland >= today) {\n    errors.lastDateInPoland = wrong_date_error;\n  }\n\n  if (!values.lastDateInPoland) {\n    errors.lastDateInPoland = \"\";\n  }\n\n  if (input_resCardIssueDate >= today) {\n    errors.resCardIssueDate = wrong_date_error;\n  }\n\n  if (!values.resCardIssueDate) {\n    errors.resCardIssueDate = \"\";\n  }\n\n  if (input_resCardExpiryDate >= today) {\n    errors.resCardExpiryDate = wrong_date_error;\n  }\n\n  if (!values.resCardExpiryDate) {\n    errors.resCardExpiryDate = \"\";\n  }\n\n  if (input_decisionIssueDate >= today) {\n    errors.decisionIssueDate = wrong_date_error;\n  }\n\n  if (!values.decisionIssueDate) {\n    errors.decisionIssueDate = \"\";\n  }\n\n  return errors;\n}","map":null,"metadata":{},"sourceType":"module"}